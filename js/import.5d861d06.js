(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["import"],{"105d":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{value:!0,"max-width":"350px"},on:{input:function(t){return e.$emit("input",!1)}}},[r("v-card",{staticClass:"elevation-12"},[r("v-card-text",{staticClass:"pa-1"},[r("v-container",[r("v-row",[r("v-text-field",{attrs:{"prepend-inner-icon":"mdi-web",color:"purple",label:"JSON URL",placeholder:"https://example.cors/marks.json",dense:"",outlined:"","hide-details":""},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1),r("v-row",[r("v-switch",{staticClass:"ml-4 mt-0",attrs:{dense:"","hide-details":"",label:e.$t("import.overwrite")},model:{value:e.overwrite,callback:function(t){e.overwrite=t},expression:"overwrite"}})],1),r("v-row",[r("v-col",{staticClass:"text-center",attrs:{cols:"4"}},[r("v-btn",{attrs:{fab:"",small:"",color:"indigo lighten-1"},on:{click:function(t){return e.$refs.file.click()}}},[r("v-icon",[e._v("mdi-file-upload-outline")])],1),r("input",{ref:"file",attrs:{type:"file",accept:".json",hidden:""},on:{change:e.importFromFile}})],1),r("v-col",{staticClass:"text-center",attrs:{cols:"4"}},[r("v-btn",{attrs:{fab:"",small:"",color:"amber"},on:{click:function(t){return e.$emit("input",!1)}}},[r("v-icon",[e._v("mdi-close-thick")])],1)],1),r("v-col",{staticClass:"text-center",attrs:{cols:"4"}},[r("v-btn",{attrs:{fab:"",small:"",color:"green"},on:{click:e.importFromCloud}},[r("v-icon",[e._v("mdi-check-bold")])],1)],1)],1)],1)],1)],1)],1)},a=[],o=(r("925e"),r("a240"),r("4f1e"),r("3170"),r("3a40"),r("deae"),r("45ac"),r("c09a"),r("14ca")),i=r("b110"),c=r("e314"),s=r("ea45"),l=function(e,t){return e.url===t.url&&e.search===t.search},u={props:{value:{type:Boolean,default:!1}},data:function(){return{url:"",overwrite:!1}},computed:Object(i["a"])({},Object(c["b"])("db/bookmarks",["bookmarks"])),methods:{importFromCloud:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e.url);case 3:return r=t.sent,t.next=6,r.json();case 6:n=t.sent,e.importBookmarks(n),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),e.$store.commit("alert",{text:t.t0,type:"error"});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},importFromFile:function(e){var t=this,r=e.target.files[0];e.target.value=null;var n=new FileReader;n.onload=function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.target.result,e.next=3,t.importBookmarks(JSON.parse(n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(r)},importBookmarks:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(Object(s["a"])("/bookmarks",e)){r.next=3;break}return t.$emit("input",!1),r.abrupt("return");case 3:if(e=e.filter((function(e,t,r){return r.findIndex((function(t){return l(t,e)}))===t})),!t.overwrite){r.next=10;break}return e.forEach((function(e,t){e.index=t})),r.next=8,t.$store.dispatch("db/bookmarks/clearAndAddAll",e);case 8:r.next=14;break;case 10:return e=e=e.filter((function(e){return-1===t.bookmarks.findIndex((function(t){return l(t,e)}))})),e.forEach((function(e,r){e.index=r+t.bookmarks.length})),r.next=14,t.$store.dispatch("db/bookmarks/addAll",e);case 14:t.$store.commit("alert",{text:t.$tc("message.import-success",e.length),type:"success"}),t.$emit("input",!1);case 16:case"end":return r.stop()}}),r)})))()}}},d=u,m=r("0199"),p=r("935c"),f=r.n(p),v=r("1e14"),b=r("bd75"),k=r("ebd0"),h=r("ffde"),x=r("6fdc"),w=r("e25a"),g=r("0fb7"),C=r("fb9b"),$=r("aeca"),j=r("3c2c"),V=Object(m["a"])(d,n,a,!1,null,null,null);t["default"]=V.exports;f()(V,{VBtn:v["a"],VCard:b["a"],VCardText:k["b"],VCol:h["a"],VContainer:x["a"],VDialog:w["a"],VIcon:g["a"],VRow:C["a"],VSwitch:$["a"],VTextField:j["a"]})}}]);
//# sourceMappingURL=import.5d861d06.js.map