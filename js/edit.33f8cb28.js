(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["edit"],{"10b9":function(e,t,r){"use strict";var n=r("3193"),o=r("c582");function a(e,t,r){return n(t,e,r),o(t,e,r),t}e.exports=a},1386:function(e,t,r){"use strict";function n(e){return e.length>0?e.join("/")+"/":""}function o(e){var t=[];return e.forEach((function(e){".."!==e?"."!==e&&t.push(e):t.length>0&&t.splice(t.length-1,1)})),t}e.exports={join:n,resolveDotSegments:o}},"1b1a":function(e,t,r){"use strict";function n(e,t,r){var n=e.extra.hrefInfo.minimumPathOnly,o=e.scheme===t.scheme||!e.scheme,a=o&&(e.auth===t.auth||r.removeAuth||n),i=r.ignore_www?"stripped":"full",u=a&&(e.host[i]===t.host[i]||n),s=u&&(e.port===t.port||n);e.extra.relation.minimumScheme=o,e.extra.relation.minimumAuth=a,e.extra.relation.minimumHost=u,e.extra.relation.minimumPort=s,e.extra.relation.maximumScheme=!o||o&&!a,e.extra.relation.maximumAuth=!o||o&&!u,e.extra.relation.maximumHost=!o||o&&!s}function o(e,t,r){var n=e.extra.hrefInfo.minimumQueryOnly,o=e.extra.hrefInfo.minimumHashOnly,a=e.extra.hrefInfo.empty,i=e.extra.relation.minimumPort,u=e.extra.relation.minimumScheme,s=i&&e.path.absolute.string===t.path.absolute.string,l=e.resource===t.resource||!e.resource&&t.extra.resourceIsIndex||r.removeDirectoryIndexes&&e.extra.resourceIsIndex&&!t.resource,m=s&&(l||n||o||a),c=r.removeEmptyQueries?"stripped":"full",h=e.query.string[c],f=t.query.string[c],p=m&&!!h&&h===f||(o||a)&&!e.extra.hrefInfo.separatorOnlyQuery,d=p&&e.hash===t.hash;e.extra.relation.minimumPath=s,e.extra.relation.minimumResource=m,e.extra.relation.minimumQuery=p,e.extra.relation.minimumHash=d,e.extra.relation.maximumPort=!u||u&&!s,e.extra.relation.maximumPath=!u||u&&!m,e.extra.relation.maximumResource=!u||u&&!p,e.extra.relation.maximumQuery=!u||u&&!d,e.extra.relation.maximumHash=!u||u&&!d,e.extra.relation.overridesQuery=s&&e.extra.relation.maximumResource&&!p&&!!f}e.exports={pathOn:o,upToPath:n}},2093:function(e,t,r){"use strict";function n(e){if(e instanceof Object){var t=e instanceof Array?[]:{};for(var r in e)e.hasOwnProperty(r)&&(t[r]=n(e[r]));return t}return e}function o(e){return!!e&&"object"===typeof e&&e.constructor===Object}function a(e,t){if(e instanceof Object&&t instanceof Object)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}e.exports={clone:n,isPlainObject:o,shallowMerge:a}},3193:function(e,t,r){"use strict";var n=r("1b1a"),o=r("2093"),a=r("1386");function i(e,t,r){n.upToPath(e,t,r),e.extra.relation.minimumScheme&&(e.scheme=t.scheme),e.extra.relation.minimumAuth&&(e.auth=t.auth),e.extra.relation.minimumHost&&(e.host=o.clone(t.host)),e.extra.relation.minimumPort&&s(e,t),e.extra.relation.minimumScheme&&u(e,t),n.pathOn(e,t,r),e.extra.relation.minimumResource&&l(e,t),e.extra.relation.minimumQuery&&(e.query=o.clone(t.query)),e.extra.relation.minimumHash&&(e.hash=t.hash)}function u(e,t){if(e.extra.relation.maximumHost||!e.extra.hrefInfo.minimumResourceOnly){var r=e.path.absolute.array,n="/";r?(e.extra.hrefInfo.minimumPathOnly&&0!==e.path.absolute.string.indexOf("/")&&(r=t.path.absolute.array.concat(r)),r=a.resolveDotSegments(r),n+=a.join(r)):r=[],e.path.absolute.array=r,e.path.absolute.string=n}else e.path=o.clone(t.path)}function s(e,t){e.port=t.port,e.extra.portIsDefault=t.extra.portIsDefault}function l(e,t){e.resource=t.resource,e.extra.resourceIsIndex=t.extra.resourceIsIndex}e.exports=i},"3ff5":function(e,t,r){"use strict";function n(e){var t=!e.scheme&&!e.auth&&!e.host.full&&!e.port,r=t&&!e.path.absolute.string,n=r&&!e.resource,o=n&&!e.query.string.full.length,a=o&&!e.hash;e.extra.hrefInfo.minimumPathOnly=t,e.extra.hrefInfo.minimumResourceOnly=r,e.extra.hrefInfo.minimumQueryOnly=n,e.extra.hrefInfo.minimumHashOnly=o,e.extra.hrefInfo.empty=a}e.exports=n},4433:function(e,t,r){"use strict";var n=r("2093");function o(e,t){if(n.isPlainObject(e)){var r={};for(var o in t)t.hasOwnProperty(o)&&(void 0!==e[o]?r[o]=a(e[o],t[o]):r[o]=t[o]);return r}return t}function a(e,t){return t instanceof Object&&e instanceof Object?t instanceof Array&&e instanceof Array?t.concat(e):n.shallowMerge(e,t):e}e.exports=o},"4b9f":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("f447"),o=r("506c"),a=Object(o["h"])("v-toolbar__title"),i=Object(o["h"])("v-toolbar__items");n["a"]},5630:function(e,t,r){"use strict";function n(e,t){if(t.ignore_www){var r=e.host.full;if(r){var n=r;0===r.indexOf("www.")&&(n=r.substr(4)),e.host.stripped=n}}}e.exports=n},"68b3":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{value:!0,"max-width":"500",scrollable:""},on:{input:function(t){return e.$emit("input",!1)}}},[r("v-card",[r("v-card-title",{staticClass:"pa-0"},[r("v-toolbar",{attrs:{color:"indigo",dark:"",dense:""}},[r("v-toolbar-title",[r("WebsiteIcon",{attrs:{bookmark:e.bookmark,size:"1.2rem"}}),e._v(" "+e._s(e.bookmark.title)+" ")],1),r("v-spacer"),r("v-btn",{attrs:{icon:"",large:"","data-cy":"done"},on:{click:e.done}},[r("v-icon",{attrs:{color:"green lighten-2"}},[e._v(" mdi-check-bold ")])],1),e.bookmark.id?r("v-btn",{attrs:{icon:"",large:"","data-cy":"delete"},on:{click:e.deleteThis}},[r("v-icon",{attrs:{color:"red lighten-2"}},[e._v(" mdi-delete ")])],1):e._e(),e.bookmark.id?r("v-btn",{attrs:{icon:"",large:"","data-cy":"reorder"},on:{click:function(t){return e.$store.commit("switchMode",{mode:"reorder-dialog",data:e.bookmark.index})}}},[r("v-icon",{attrs:{color:"yellow lighten-2"}},[e._v(" mdi-swap-horizontal ")])],1):e._e()],1)],1),r("v-card-text",{staticClass:"pt-4 pb-0"},[r("v-text-field",{attrs:{"prepend-inner-icon":"mdi-bookmark",label:e.$t("bookmark.name"),placeholder:"Example","data-cy":"input-title",outlined:"",dense:""},model:{value:e.bookmark.title,callback:function(t){e.$set(e.bookmark,"title",t)},expression:"bookmark.title"}}),r("v-text-field",{attrs:{"prepend-inner-icon":"mdi-web",label:e.$t("bookmark.url"),placeholder:"https://example.com","data-cy":"input-url",outlined:"",dense:""},model:{value:e.bookmark.url,callback:function(t){e.$set(e.bookmark,"url",t)},expression:"bookmark.url"}}),r("v-text-field",{attrs:{"prepend-inner-icon":"mdi-magnify",label:e.$t("bookmark.search"),placeholder:"/search?wd={}","data-cy":"input-search",outlined:"",dense:""},model:{value:e.bookmark.search,callback:function(t){e.$set(e.bookmark,"search",t)},expression:"bookmark.search"}}),r("v-text-field",{attrs:{"prepend-inner-icon":"mdi-earth",label:e.$t("bookmark.icon"),placeholder:"/favicon.ico","data-cy":"input-icon",outlined:"",dense:""},model:{value:e.bookmark.icon,callback:function(t){e.$set(e.bookmark,"icon",t)},expression:"bookmark.icon"}})],1),e.config.linkPreviewKey?r("v-card-actions",{staticClass:"pt-0"},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary",disabled:!e.bookmark.url||e.linkPreviewLoading},on:{click:e.linkPreview}},[e._v(" LinkPreview "),e.linkPreviewLoading?r("span",[e._v("...")]):r("span",[e._v("!")])])],1):e._e()],1)],1)},o=[],a=(r("37c4"),r("9706"),r("31da"),r("b8a6"),r("5597"),r("8d04")),i=r("765b"),u=r("9c7c"),s=r.n(u),l=r("03fd"),m=r("ea45"),c=r("f547"),h={components:{WebsiteIcon:l["a"]},data:function(){return{bookmark:JSON.parse(JSON.stringify(this.$store.state.modeData)),linkPreviewLoading:!1}},computed:Object(i["a"])({},Object(c["b"])("config",["config"])),methods:{done:function(){Object(m["a"])("/bookmark",this.bookmark)&&(this.bookmark.id?this.$store.dispatch("db/bookmarks/put",this.bookmark):this.$store.dispatch("db/bookmarks/add",this.bookmark),this.$store.commit("alert",{text:this.$t("message.success"),type:"success"}),this.$emit("input",!1))},deleteThis:function(){this.$store.dispatch("db/bookmarks/delete",this.bookmark),this.$emit("input",!1)},linkPreview:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.linkPreviewLoading=!0,t.next=3,fetch("https://api.linkpreview.net",{method:"POST",mode:"cors",body:JSON.stringify({key:e.config.linkPreviewKey,q:e.bookmark.url})});case 3:return r=t.sent,t.next=6,r.json();case 6:if(n=t.sent,e.linkPreviewLoading=!1,!n.error){t.next=11;break}return e.$store.commit("alert",{text:"".concat(n.error,": ").concat(n.description),type:"error"}),t.abrupt("return");case 11:n.title&&(e.bookmark.title=n.title),n.image&&(e.bookmark.icon=s.a.relate(e.bookmark.url,n.image));case 13:case"end":return t.stop()}}),t)})))()}}},f=h,p=r("b510"),d=r("0801"),x=r.n(d),b=r("8136"),v=r("d26b"),k=r("dec2"),y=r("fb79"),g=r("bad3"),O=r("92ca"),w=r("5102"),I=r("f447"),P=r("4b9f"),T=Object(p["a"])(f,n,o,!1,null,null,null);t["default"]=T.exports;x()(T,{VBtn:b["a"],VCard:v["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VDialog:y["a"],VIcon:g["a"],VSpacer:O["a"],VTextField:w["a"],VToolbar:I["a"],VToolbarTitle:P["a"]})},"7ad6":function(e,t,r){"use strict";var n=r("3ff5"),o=r("5630"),a=r("d5a9"),i=r("f6dc"),u=r("bdac"),s=r("e7a8"),l=r("1386");function m(e,t,r){if(e){var n=c(e,t),o=l.resolveDotSegments(n.path.absolute.array);return n.path.absolute.array=o,n.path.absolute.string="/"+l.join(o),n}return r}function c(e,t){var r=s(e,t);return!1===r.valid||(o(r,t),i(r,t),a(r,t),u(r,t),n(r)),r}e.exports={from:m,to:c}},"8b1a":function(e,t,r){"use strict";var n=r("99c7");function o(e,t){return!e.auth||t.removeAuth||!e.extra.relation.maximumHost&&t.output!==n.ABSOLUTE?"":e.auth+"@"}function a(e,t){return e.hash?e.hash:""}function i(e,t){return e.host.full&&(e.extra.relation.maximumAuth||t.output===n.ABSOLUTE)?e.host.full:""}function u(e,t){var r="",o=e.path.absolute.string,a=e.path.relative.string,i=d(e,t);if(e.extra.relation.maximumHost||t.output===n.ABSOLUTE||t.output===n.ROOT_RELATIVE)r=o;else if(a.length<=o.length&&t.output===n.SHORTEST||t.output===n.PATH_RELATIVE){if(r=a,""===r){var u=p(e,t)&&!!f(e,t);e.extra.relation.maximumPath&&!i?r="./":!e.extra.relation.overridesQuery||i||u||(r="./")}}else r=o;return"/"!==r||i||!t.removeRootTrailingSlash||e.extra.relation.minimumPort&&t.output!==n.ABSOLUTE||(r=""),r}function s(e,t){return e.port&&!e.extra.portIsDefault&&e.extra.relation.maximumHost?":"+e.port:""}function l(e,t){return p(e,t)?f(e,t):""}function m(e,t){return d(e,t)?e.resource:""}function c(e,t){var r="";return(e.extra.relation.maximumHost||t.output===n.ABSOLUTE)&&(e.extra.relation.minimumScheme&&t.schemeRelative&&t.output!==n.ABSOLUTE?r+="//":r+=e.scheme+"://"),r}function h(e,t){var r="";return r+=c(e,t),r+=o(e,t),r+=i(e,t),r+=s(e,t),r+=u(e,t),r+=m(e,t),r+=l(e,t),r+=a(e,t),r}function f(e,t){var r=t.removeEmptyQueries&&e.extra.relation.minimumPort;return e.query.string[r?"stripped":"full"]}function p(e,t){return!e.extra.relation.minimumQuery||t.output===n.ABSOLUTE||t.output===n.ROOT_RELATIVE}function d(e,t){var r=t.removeDirectoryIndexes&&e.extra.resourceIsIndex,o=e.extra.relation.minimumResource&&t.output!==n.ABSOLUTE&&t.output!==n.ROOT_RELATIVE;return!!e.resource&&!o&&!r}e.exports=h},"99c7":function(e,t,r){"use strict";e.exports={ABSOLUTE:"absolute",PATH_RELATIVE:"pathRelative",ROOT_RELATIVE:"rootRelative",SHORTEST:"shortest"}},"9c7c":function(e,t,r){"use strict";var n=r("99c7"),o=r("8b1a"),a=r("4433"),i=r("2093"),u=r("7ad6"),s=r("10b9");function l(e,t){this.options=a(t,{defaultPorts:{ftp:21,http:80,https:443},directoryIndexes:["index.html"],ignore_www:!1,output:l.SHORTEST,rejectedSchemes:["data","javascript","mailto"],removeAuth:!1,removeDirectoryIndexes:!0,removeEmptyQueries:!1,removeRootTrailingSlash:!0,schemeRelative:!0,site:void 0,slashesDenoteHost:!0}),this.from=u.from(e,this.options,null)}l.prototype.relate=function(e,t,r){if(i.isPlainObject(t)?(r=t,t=e,e=null):t||(t=e,e=null),r=a(r,this.options),e=e||r.site,e=u.from(e,r,this.from),!e||!e.href)throw new Error("from value not defined.");if(e.extra.hrefInfo.minimumPathOnly)throw new Error("from value supplied is not absolute: "+e.href);return t=u.to(t,r),!1===t.valid?t.href:(t=s(e,t,r),t=o(t,r),t)},l.relate=function(e,t,r){return(new l).relate(e,t,r)},i.shallowMerge(l,n),e.exports=l},bdac:function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function o(e,t){e.query.string.full=a(e.query.object,!1),t.removeEmptyQueries&&(e.query.string.stripped=a(e.query.object,!0))}function a(e,t){var r=0,o="";for(var a in e)if(""!==a&&!0===n.call(e,a)){var i=e[a];""===i&&t||(o+=1===++r?"?":"&",a=encodeURIComponent(a),o+=""!==i?a+"="+encodeURIComponent(i).replace(/%20/g,"+"):a)}return o}e.exports=o},c582:function(e,t,r){"use strict";var n=r("1386");function o(e,t){var r=[],n=!0,o=-1;return t.forEach((function(t,a){n&&(e[a]!==t?n=!1:o=a),n||r.push("..")})),e.forEach((function(e,t){t>o&&r.push(e)})),r}function a(e,t,r){if(e.extra.relation.minimumScheme){var a=o(e.path.absolute.array,t.path.absolute.array);e.path.relative.array=a,e.path.relative.string=n.join(a)}}e.exports=a},d5a9:function(e,t,r){"use strict";function n(e,t){var r=!1;return t.directoryIndexes.every((function(t){return t!==e||(r=!0,!1)})),r}function o(e,t){var r=e.path.absolute.string;if(r){var o=r.lastIndexOf("/");if(o>-1){if(++o<r.length){var i=r.substr(o);"."!==i&&".."!==i?(e.resource=i,r=r.substr(0,o)):r+="/"}e.path.absolute.string=r,e.path.absolute.array=a(r)}else"."===r||".."===r?(r+="/",e.path.absolute.string=r,e.path.absolute.array=a(r)):(e.resource=r,e.path.absolute.string=null);e.extra.resourceIsIndex=n(e.resource,t)}}function a(e){if("/"!==e){var t=[];return e.split("/").forEach((function(e){""!==e&&t.push(e)})),t}return[]}e.exports=o},e7a8:function(e,t,r){"use strict";var n=r("8e69").parse;function o(e){var t=e.protocol;return t&&t.indexOf(":")===t.length-1&&(t=t.substr(0,t.length-1)),e.host={full:e.hostname,stripped:null},e.path={absolute:{array:null,string:e.pathname},relative:{array:null,string:null}},e.query={object:e.query,string:{full:null,stripped:null}},e.extra={hrefInfo:{minimumPathOnly:null,minimumResourceOnly:null,minimumQueryOnly:null,minimumHashOnly:null,empty:null,separatorOnlyQuery:"?"===e.search},portIsDefault:null,relation:{maximumScheme:null,maximumAuth:null,maximumHost:null,maximumPort:null,maximumPath:null,maximumResource:null,maximumQuery:null,maximumHash:null,minimumScheme:null,minimumAuth:null,minimumHost:null,minimumPort:null,minimumPath:null,minimumResource:null,minimumQuery:null,minimumHash:null,overridesQuery:null},resourceIsIndex:null,slashes:e.slashes},e.resource=null,e.scheme=t,delete e.hostname,delete e.pathname,delete e.protocol,delete e.search,delete e.slashes,e}function a(e,t){var r=!0;return t.rejectedSchemes.every((function(t){return r=!(0===e.indexOf(t+":")),r})),r}function i(e,t){return a(e,t)?o(n(e,!0,t.slashesDenoteHost)):{href:e,valid:!1}}e.exports=i},f6dc:function(e,t,r){"use strict";function n(e,t){var r=-1;for(var n in t.defaultPorts)if(n===e.scheme&&t.defaultPorts.hasOwnProperty(n)){r=t.defaultPorts[n];break}r>-1&&(r=r.toString(),null===e.port&&(e.port=r),e.extra.portIsDefault=e.port===r)}e.exports=n}}]);
//# sourceMappingURL=edit.33f8cb28.js.map