{"version":3,"sources":["webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/relate/index.js","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/util/path.js","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/relate/findRelation.js","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/util/object.js","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/relate/absolutize.js","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/parse/hrefInfo.js","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/options.js","webpack:///../../../src/components/VToolbar/index.ts","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/parse/host.js","webpack:///./src/dialogs/EditDialog.vue?9c1e","webpack:///src/dialogs/EditDialog.vue","webpack:///./src/dialogs/EditDialog.vue?eb14","webpack:///./src/dialogs/EditDialog.vue","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/parse/index.js","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/format.js","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/constants.js","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/index.js","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/parse/query.js","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/relate/relativize.js","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/parse/path.js","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/parse/urlstring.js","webpack:///./.yarn/cache/relateurl-npm-0.2.7-7687cc0a2a-5891e792ea.zip/node_modules/relateurl/lib/parse/port.js"],"names":["absolutize","relativize","relateUrl","siteUrlObj","urlObj","options","module","exports","joinPath","pathArray","length","join","resolveDotSegments","pathAbsolute","forEach","dir","push","splice","findRelation_upToPath","pathOnly","extra","hrefInfo","minimumPathOnly","minimumScheme","scheme","minimumAuth","auth","removeAuth","www","ignore_www","minimumHost","host","minimumPort","port","relation","maximumScheme","maximumAuth","maximumHost","findRelation_pathOn","queryOnly","minimumQueryOnly","hashOnly","minimumHashOnly","empty","minimumPath","path","absolute","string","matchingResource","resource","resourceIsIndex","removeDirectoryIndexes","minimumResource","query","removeEmptyQueries","urlQuery","siteUrlQuery","minimumQuery","separatorOnlyQuery","minimumHash","hash","maximumPort","maximumPath","maximumResource","maximumQuery","maximumHash","overridesQuery","pathOn","upToPath","clone","obj","Object","clonedObj","Array","i","hasOwnProperty","isPlainObject","constructor","shallowMerge","target","source","findRelation","objUtils","pathUtils","copyPort","copyPath","copyResource","minimumResourceOnly","array","pathString","indexOf","concat","portIsDefault","full","getOptions","defaults","newOptions","undefined","mergeOption","newValues","defaultValues","VToolbarTitle","VToolbarItems","parseHost","stripped","substr","render","_vm","this","_h","$createElement","_c","_self","attrs","on","$event","$emit","staticClass","bookmark","_v","_s","title","done","deleteThis","_e","$store","commit","mode","data","index","$t","model","value","callback","$$v","$set","expression","config","url","linkPreviewLoading","linkPreview","staticRenderFns","components","WebsiteIcon","JSON","parse","stringify","state","modeData","computed","methods","id","text","type","dispatch","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VDialog","VIcon","VSpacer","VTextField","VToolbar","parsePath","parsePort","parseQuery","parseUrlString","parseFromUrl","fallback","parseUrl","valid","from","to","constants","formatAuth","output","ABSOLUTE","formatHash","formatHost","formatPath","str","absolutePath","relativePath","relative","showResource","ROOT_RELATIVE","SHORTEST","PATH_RELATIVE","showQuery","getQuery","removeRootTrailingSlash","formatPort","formatQuery","formatResource","formatScheme","schemeRelative","formatUrl","stripQuery","removeIndex","removeMatchingResource","RelateUrl","defaultPorts","ftp","http","https","directoryIndexes","rejectedSchemes","site","slashesDenoteHost","prototype","relate","href","Error","object","queryObj","count","call","encodeURIComponent","replace","relatePath","siteAbsolutePath","related","parentIndex","siteAbsoluteDir","isDirectoryIndex","verdict","every","lastSlash","lastIndexOf","splitPath","cleaned","split","_parseUrl","clean","protocol","hostname","pathname","search","slashes","validScheme","rejectedScheme","defaultPort","toString"],"mappings":"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","file":"js/edit.33f8cb28.js","sourcesContent":["\"use strict\";\n\nvar absolutize = require(\"./absolutize\");\nvar relativize = require(\"./relativize\");\n\n\n\nfunction relateUrl(siteUrlObj, urlObj, options)\n{\n\tabsolutize(urlObj, siteUrlObj, options);\n\trelativize(urlObj, siteUrlObj, options);\n\t\n\treturn urlObj;\n}\n\n\n\nmodule.exports = relateUrl;\n","\"use strict\";\n\nfunction joinPath(pathArray)\n{\n\tif (pathArray.length > 0)\n\t{\n\t\treturn pathArray.join(\"/\") + \"/\";\n\t}\n\telse\n\t{\n\t\treturn \"\";\n\t}\n}\n\n\n\nfunction resolveDotSegments(pathArray)\n{\n\tvar pathAbsolute = [];\n\t\n\tpathArray.forEach( function(dir)\n\t{\n\t\tif (dir !== \"..\")\n\t\t{\n\t\t\tif (dir !== \".\")\n\t\t\t{\n\t\t\t\tpathAbsolute.push(dir);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Remove parent\n\t\t\tif (pathAbsolute.length > 0)\n\t\t\t{\n\t\t\t\tpathAbsolute.splice(pathAbsolute.length-1, 1);\n\t\t\t}\n\t\t}\n\t});\n\t\n\treturn pathAbsolute;\n}\n\n\n\nmodule.exports =\n{\n\tjoin: joinPath,\n\tresolveDotSegments: resolveDotSegments\n};\n","\"use strict\";\n\nfunction findRelation_upToPath(urlObj, siteUrlObj, options)\n{\n\t// Path- or root-relative URL\n\tvar pathOnly = urlObj.extra.hrefInfo.minimumPathOnly;\n\t\n\t// Matching scheme, scheme-relative or path-only\n\tvar minimumScheme = (urlObj.scheme===siteUrlObj.scheme || !urlObj.scheme);\n\t\n\t// Matching auth, ignoring auth or path-only\n\tvar minimumAuth = minimumScheme && (urlObj.auth===siteUrlObj.auth || options.removeAuth || pathOnly);\n\t\n\t// Matching host or path-only\n\tvar www = options.ignore_www ? \"stripped\" : \"full\";\n\tvar minimumHost = minimumAuth && (urlObj.host[www]===siteUrlObj.host[www] || pathOnly);\n\t\n\t// Matching port or path-only\n\tvar minimumPort = minimumHost && (urlObj.port===siteUrlObj.port || pathOnly);\n\t\n\turlObj.extra.relation.minimumScheme = minimumScheme;\n\turlObj.extra.relation.minimumAuth   = minimumAuth;\n\turlObj.extra.relation.minimumHost   = minimumHost;\n\turlObj.extra.relation.minimumPort   = minimumPort;\n\t\n\turlObj.extra.relation.maximumScheme = !minimumScheme || minimumScheme && !minimumAuth;\n\turlObj.extra.relation.maximumAuth   = !minimumScheme || minimumScheme && !minimumHost;\n\turlObj.extra.relation.maximumHost   = !minimumScheme || minimumScheme && !minimumPort;\n}\n\n\n\nfunction findRelation_pathOn(urlObj, siteUrlObj, options)\n{\n\tvar queryOnly = urlObj.extra.hrefInfo.minimumQueryOnly;\n\tvar hashOnly  = urlObj.extra.hrefInfo.minimumHashOnly;\n\tvar empty     = urlObj.extra.hrefInfo.empty;\t// not required, but self-documenting\n\t\n\t// From upToPath()\n\tvar minimumPort   = urlObj.extra.relation.minimumPort;\n\tvar minimumScheme = urlObj.extra.relation.minimumScheme;\n\t\n\t// Matching port and path\n\tvar minimumPath = minimumPort && urlObj.path.absolute.string===siteUrlObj.path.absolute.string;\n\t\n\t// Matching resource or query/hash-only or empty\n\tvar matchingResource = (urlObj.resource===siteUrlObj.resource || !urlObj.resource && siteUrlObj.extra.resourceIsIndex) || (options.removeDirectoryIndexes && urlObj.extra.resourceIsIndex && !siteUrlObj.resource);\n\tvar minimumResource = minimumPath && (matchingResource || queryOnly || hashOnly || empty);\n\t\n\t// Matching query or hash-only/empty\n\tvar query = options.removeEmptyQueries ? \"stripped\" : \"full\";\n\tvar urlQuery = urlObj.query.string[query];\n\tvar siteUrlQuery = siteUrlObj.query.string[query];\n\tvar minimumQuery = (minimumResource && !!urlQuery && urlQuery===siteUrlQuery) || ((hashOnly || empty) && !urlObj.extra.hrefInfo.separatorOnlyQuery);\n\t\n\tvar minimumHash = minimumQuery && urlObj.hash===siteUrlObj.hash;\n\t\n\turlObj.extra.relation.minimumPath     = minimumPath;\n\turlObj.extra.relation.minimumResource = minimumResource;\n\turlObj.extra.relation.minimumQuery    = minimumQuery;\n\turlObj.extra.relation.minimumHash     = minimumHash;\n\t\n\turlObj.extra.relation.maximumPort     = !minimumScheme || minimumScheme && !minimumPath;\n\turlObj.extra.relation.maximumPath     = !minimumScheme || minimumScheme && !minimumResource;\n\turlObj.extra.relation.maximumResource = !minimumScheme || minimumScheme && !minimumQuery;\n\turlObj.extra.relation.maximumQuery    = !minimumScheme || minimumScheme && !minimumHash;\n\turlObj.extra.relation.maximumHash     = !minimumScheme || minimumScheme && !minimumHash;\t// there's nothing after hash, so it's the same as maximumQuery\n\t\n\t// Matching path and/or resource with existing but non-matching site query\n\turlObj.extra.relation.overridesQuery  = minimumPath && urlObj.extra.relation.maximumResource && !minimumQuery && !!siteUrlQuery;\n}\n\n\n\nmodule.exports =\n{\n\tpathOn:   findRelation_pathOn,\n\tupToPath: findRelation_upToPath\n};\n","\"use strict\";\n\n/*\n\tDeep-clone an object.\n*/\nfunction clone(obj)\n{\n\tif (obj instanceof Object)\n\t{\n\t\tvar clonedObj = (obj instanceof Array) ? [] : {};\n\t\t\n\t\tfor (var i in obj)\n\t\t{\n\t\t\tif ( obj.hasOwnProperty(i) )\n\t\t\t{\n\t\t\t\tclonedObj[i] = clone( obj[i] );\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn clonedObj;\n\t}\n\t\n\treturn obj;\n}\n\n\n\n/*\n\thttps://github.com/jonschlinkert/is-plain-object\n*/\nfunction isPlainObject(obj)\n{\n\treturn !!obj && typeof obj===\"object\" && obj.constructor===Object;\n}\n\n\n\n/*\n\tShallow-merge two objects.\n*/\nfunction shallowMerge(target, source)\n{\n\tif (target instanceof Object && source instanceof Object)\n\t{\n\t\tfor (var i in source)\n\t\t{\n\t\t\tif ( source.hasOwnProperty(i) )\n\t\t\t{\n\t\t\t\ttarget[i] = source[i];\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn target;\n}\n\n\n\nmodule.exports =\n{\n\tclone: clone,\n\tisPlainObject: isPlainObject,\n\tshallowMerge: shallowMerge\n};\n","\"use strict\";\n\nvar findRelation = require(\"./findRelation\");\nvar objUtils     = require(\"../util/object\");\nvar pathUtils    = require(\"../util/path\");\n\n\n\nfunction absolutize(urlObj, siteUrlObj, options)\n{\n\tfindRelation.upToPath(urlObj, siteUrlObj, options);\n\t\n\t// Fill in relative URLs\n\tif (urlObj.extra.relation.minimumScheme) urlObj.scheme = siteUrlObj.scheme;\n\tif (urlObj.extra.relation.minimumAuth)   urlObj.auth   = siteUrlObj.auth;\n\tif (urlObj.extra.relation.minimumHost)   urlObj.host   = objUtils.clone(siteUrlObj.host);\n\tif (urlObj.extra.relation.minimumPort)   copyPort(urlObj, siteUrlObj);\n\tif (urlObj.extra.relation.minimumScheme) copyPath(urlObj, siteUrlObj);\n\t\n\t// Check remaining relativeness now that path has been copied and/or resolved\n\tfindRelation.pathOn(urlObj, siteUrlObj, options);\n\t\n\t// Fill in relative URLs\n\tif (urlObj.extra.relation.minimumResource) copyResource(urlObj, siteUrlObj);\n\tif (urlObj.extra.relation.minimumQuery)    urlObj.query = objUtils.clone(siteUrlObj.query);\n\tif (urlObj.extra.relation.minimumHash)     urlObj.hash  = siteUrlObj.hash;\n}\n\n\n\n/*\n\tGet an absolute path that's relative to site url.\n*/\nfunction copyPath(urlObj, siteUrlObj)\n{\n\tif (urlObj.extra.relation.maximumHost || !urlObj.extra.hrefInfo.minimumResourceOnly)\n\t{\n\t\tvar pathArray = urlObj.path.absolute.array;\n\t\tvar pathString = \"/\";\n\t\t\n\t\t// If not erroneous URL\n\t\tif (pathArray)\n\t\t{\n\t\t\t// If is relative path\n\t\t\tif (urlObj.extra.hrefInfo.minimumPathOnly && urlObj.path.absolute.string.indexOf(\"/\")!==0)\n\t\t\t{\n\t\t\t\t// Append path to site path\n\t\t\t\tpathArray = siteUrlObj.path.absolute.array.concat(pathArray);\n\t\t\t}\n\t\t\t\n\t\t\tpathArray   = pathUtils.resolveDotSegments(pathArray);\n\t\t\tpathString += pathUtils.join(pathArray);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpathArray = [];\n\t\t}\n\t\t\n\t\turlObj.path.absolute.array  = pathArray;\n\t\turlObj.path.absolute.string = pathString;\n\t}\n\telse\n\t{\n\t\t// Resource-, query- or hash-only or empty\n\t\turlObj.path = objUtils.clone(siteUrlObj.path);\n\t}\n}\n\n\n\nfunction copyPort(urlObj, siteUrlObj)\n{\n\turlObj.port = siteUrlObj.port;\n\t\n\turlObj.extra.portIsDefault = siteUrlObj.extra.portIsDefault;\n}\n\n\n\nfunction copyResource(urlObj, siteUrlObj)\n{\n\turlObj.resource = siteUrlObj.resource;\n\t\n\turlObj.extra.resourceIsIndex = siteUrlObj.extra.resourceIsIndex;\n}\n\n\n\nmodule.exports = absolutize;\n","\"use strict\";\n\nfunction hrefInfo(urlObj)\n{\n\tvar minimumPathOnly     = (!urlObj.scheme && !urlObj.auth && !urlObj.host.full && !urlObj.port);\n\tvar minimumResourceOnly = (minimumPathOnly && !urlObj.path.absolute.string);\n\tvar minimumQueryOnly    = (minimumResourceOnly && !urlObj.resource);\n\tvar minimumHashOnly     = (minimumQueryOnly && !urlObj.query.string.full.length);\n\tvar empty               = (minimumHashOnly && !urlObj.hash);\n\t\n\turlObj.extra.hrefInfo.minimumPathOnly     = minimumPathOnly;\n\turlObj.extra.hrefInfo.minimumResourceOnly = minimumResourceOnly;\n\turlObj.extra.hrefInfo.minimumQueryOnly    = minimumQueryOnly;\n\turlObj.extra.hrefInfo.minimumHashOnly     = minimumHashOnly;\n\turlObj.extra.hrefInfo.empty = empty;\n}\n\n\n\nmodule.exports = hrefInfo;\n","\"use strict\";\n\nvar objUtils = require(\"./util/object\");\n\n\n\nfunction getOptions(options, defaults)\n{\n\tif ( objUtils.isPlainObject(options) )\n\t{\n\t\tvar newOptions = {};\n\t\t\n\t\tfor (var i in defaults)\n\t\t{\n\t\t\tif ( defaults.hasOwnProperty(i) )\n\t\t\t{\n\t\t\t\tif (options[i] !== undefined)\n\t\t\t\t{\n\t\t\t\t\tnewOptions[i] = mergeOption(options[i], defaults[i]);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tnewOptions[i] = defaults[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn newOptions;\n\t}\n\telse\n\t{\n\t\treturn defaults;\n\t}\n}\n\n\n\nfunction mergeOption(newValues, defaultValues)\n{\n\tif (defaultValues instanceof Object && newValues instanceof Object)\n\t{\n\t\tif (defaultValues instanceof Array && newValues instanceof Array)\n\t\t{\n\t\t\treturn defaultValues.concat(newValues);\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn objUtils.shallowMerge(newValues, defaultValues);\n\t\t}\n\t}\n\t\n\treturn newValues;\n}\n\n\n\nmodule.exports = getOptions;\n","// Components\nimport VToolbar from './VToolbar'\n\n// Utilities\nimport { createSimpleFunctional } from '../../util/helpers'\n\nconst VToolbarTitle = createSimpleFunctional('v-toolbar__title')\nconst VToolbarItems = createSimpleFunctional('v-toolbar__items')\n\nexport {\n  VToolbar,\n  VToolbarItems,\n  VToolbarTitle,\n}\n\nexport default {\n  $_vuetify_subcomponents: {\n    VToolbar,\n    VToolbarItems,\n    VToolbarTitle,\n  },\n}\n","\"use strict\";\n\nfunction parseHost(urlObj, options)\n{\n\t// TWEAK :: condition only for speed optimization\n\tif (options.ignore_www)\n\t{\n\t\tvar host = urlObj.host.full;\n\t\t\n\t\tif (host)\n\t\t{\n\t\t\tvar stripped = host;\n\t\t\t\n\t\t\tif (host.indexOf(\"www.\") === 0)\n\t\t\t{\n\t\t\t\tstripped = host.substr(4);\n\t\t\t}\n\t\t\t\n\t\t\turlObj.host.stripped = stripped;\n\t\t}\n\t}\n}\n\n\n\nmodule.exports = parseHost;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"value\":true,\"max-width\":\"500\",\"scrollable\":\"\"},on:{\"input\":function($event){return _vm.$emit('input', false)}}},[_c('v-card',[_c('v-card-title',{staticClass:\"pa-0\"},[_c('v-toolbar',{attrs:{\"color\":\"indigo\",\"dark\":\"\",\"dense\":\"\"}},[_c('v-toolbar-title',[_c('WebsiteIcon',{attrs:{\"bookmark\":_vm.bookmark,\"size\":\"1.2rem\"}}),_vm._v(\" \"+_vm._s(_vm.bookmark.title)+\" \")],1),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\",\"large\":\"\",\"data-cy\":\"done\"},on:{\"click\":_vm.done}},[_c('v-icon',{attrs:{\"color\":\"green lighten-2\"}},[_vm._v(\" mdi-check-bold \")])],1),(_vm.bookmark.id)?_c('v-btn',{attrs:{\"icon\":\"\",\"large\":\"\",\"data-cy\":\"delete\"},on:{\"click\":_vm.deleteThis}},[_c('v-icon',{attrs:{\"color\":\"red lighten-2\"}},[_vm._v(\" mdi-delete \")])],1):_vm._e(),(_vm.bookmark.id)?_c('v-btn',{attrs:{\"icon\":\"\",\"large\":\"\",\"data-cy\":\"reorder\"},on:{\"click\":function($event){return _vm.$store.commit('switchMode', {\n            mode: 'reorder-dialog',\n            data: _vm.bookmark.index\n          })}}},[_c('v-icon',{attrs:{\"color\":\"yellow lighten-2\"}},[_vm._v(\" mdi-swap-horizontal \")])],1):_vm._e()],1)],1),_c('v-card-text',{staticClass:\"pt-4 pb-0\"},[_c('v-text-field',{attrs:{\"prepend-inner-icon\":\"mdi-bookmark\",\"label\":_vm.$t('bookmark.name'),\"placeholder\":\"Example\",\"data-cy\":\"input-title\",\"outlined\":\"\",\"dense\":\"\"},model:{value:(_vm.bookmark.title),callback:function ($$v) {_vm.$set(_vm.bookmark, \"title\", $$v)},expression:\"bookmark.title\"}}),_c('v-text-field',{attrs:{\"prepend-inner-icon\":\"mdi-web\",\"label\":_vm.$t('bookmark.url'),\"placeholder\":\"https://example.com\",\"data-cy\":\"input-url\",\"outlined\":\"\",\"dense\":\"\"},model:{value:(_vm.bookmark.url),callback:function ($$v) {_vm.$set(_vm.bookmark, \"url\", $$v)},expression:\"bookmark.url\"}}),_c('v-text-field',{attrs:{\"prepend-inner-icon\":\"mdi-magnify\",\"label\":_vm.$t('bookmark.search'),\"placeholder\":\"/search?wd={}\",\"data-cy\":\"input-search\",\"outlined\":\"\",\"dense\":\"\"},model:{value:(_vm.bookmark.search),callback:function ($$v) {_vm.$set(_vm.bookmark, \"search\", $$v)},expression:\"bookmark.search\"}}),_c('v-text-field',{attrs:{\"prepend-inner-icon\":\"mdi-earth\",\"label\":_vm.$t('bookmark.icon'),\"placeholder\":\"/favicon.ico\",\"data-cy\":\"input-icon\",\"outlined\":\"\",\"dense\":\"\"},model:{value:(_vm.bookmark.icon),callback:function ($$v) {_vm.$set(_vm.bookmark, \"icon\", $$v)},expression:\"bookmark.icon\"}})],1),(_vm.config.linkPreviewKey)?_c('v-card-actions',{staticClass:\"pt-0\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\",\"disabled\":!_vm.bookmark.url || _vm.linkPreviewLoading},on:{\"click\":_vm.linkPreview}},[_vm._v(\" LinkPreview \"),(_vm.linkPreviewLoading)?_c('span',[_vm._v(\"...\")]):_c('span',[_vm._v(\"!\")])])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    :value=\"true\"\n    max-width=\"500\"\n    scrollable\n    @input=\"$emit('input', false)\"\n  >\n    <v-card>\n      <v-card-title class=\"pa-0\">\n        <v-toolbar color=\"indigo\" dark dense>\n          <v-toolbar-title>\n            <WebsiteIcon :bookmark=\"bookmark\" size=\"1.2rem\" />\n            {{ bookmark.title }}\n          </v-toolbar-title>\n          <v-spacer />\n          <v-btn icon large data-cy=\"done\" @click=\"done\">\n            <v-icon color=\"green lighten-2\">\n              mdi-check-bold\n            </v-icon>\n          </v-btn>\n          <v-btn\n            v-if=\"bookmark.id\" icon large\n            data-cy=\"delete\"\n            @click=\"deleteThis\"\n          >\n            <v-icon color=\"red lighten-2\">\n              mdi-delete\n            </v-icon>\n          </v-btn>\n          <v-btn\n            v-if=\"bookmark.id\"\n            icon large data-cy=\"reorder\"\n            @click=\"$store.commit('switchMode', {\n              mode: 'reorder-dialog',\n              data: bookmark.index\n            })\"\n          >\n            <v-icon color=\"yellow lighten-2\">\n              mdi-swap-horizontal\n            </v-icon>\n          </v-btn>\n        </v-toolbar>\n      </v-card-title>\n      <v-card-text class=\"pt-4 pb-0\">\n        <v-text-field\n          v-model=\"bookmark.title\"\n          prepend-inner-icon=\"mdi-bookmark\"\n          :label=\"$t('bookmark.name')\"\n          placeholder=\"Example\"\n          data-cy=\"input-title\"\n          outlined\n          dense\n        />\n        <v-text-field\n          v-model=\"bookmark.url\"\n          prepend-inner-icon=\"mdi-web\"\n          :label=\"$t('bookmark.url')\"\n          placeholder=\"https://example.com\"\n          data-cy=\"input-url\"\n          outlined\n          dense\n        />\n        <v-text-field\n          v-model=\"bookmark.search\"\n          prepend-inner-icon=\"mdi-magnify\"\n          :label=\"$t('bookmark.search')\"\n          placeholder=\"/search?wd={}\"\n          data-cy=\"input-search\"\n          outlined\n          dense\n        />\n        <v-text-field\n          v-model=\"bookmark.icon\"\n          prepend-inner-icon=\"mdi-earth\"\n          :label=\"$t('bookmark.icon')\"\n          placeholder=\"/favicon.ico\"\n          data-cy=\"input-icon\"\n          outlined\n          dense\n        />\n      </v-card-text>\n      <v-card-actions v-if=\"config.linkPreviewKey\" class=\"pt-0\">\n        <v-spacer />\n        <v-btn\n          text\n          color=\"primary\"\n          :disabled=\"!bookmark.url || linkPreviewLoading\"\n          @click=\"linkPreview\"\n        >\n          LinkPreview\n          <span v-if=\"linkPreviewLoading\">...</span>\n          <span v-else>!</span>\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport RelateUrl from 'relateurl'\nimport WebsiteIcon from '@/components/WebsiteIcon'\nimport validate from '@/validator'\nimport { mapState } from 'vuex'\n\nexport default {\n  components: {\n    WebsiteIcon\n  },\n  data () {\n    return {\n      bookmark: JSON.parse(JSON.stringify(this.$store.state.modeData)),\n      linkPreviewLoading: false\n    }\n  },\n  computed: {\n    ...mapState('config', ['config'])\n  },\n  methods: {\n    done () {\n      if (!validate('/bookmark', this.bookmark))\n        return\n      if (this.bookmark.id)\n        this.$store.dispatch('db/bookmarks/put', this.bookmark)\n      else\n        this.$store.dispatch('db/bookmarks/add', this.bookmark)\n      this.$store.commit('alert', {\n        text: this.$t('message.success'),\n        type: 'success'\n      })\n      this.$emit('input', false)\n    },\n    deleteThis () {\n      this.$store.dispatch('db/bookmarks/delete', this.bookmark)\n      this.$emit('input', false)\n    },\n    async linkPreview () {\n      this.linkPreviewLoading = true\n      const response = await fetch('https://api.linkpreview.net', {\n        method: 'POST',\n        mode: 'cors',\n        body: JSON.stringify({\n          key: this.config.linkPreviewKey,\n          q: this.bookmark.url\n        })\n      })\n      const previewData = await response.json()\n      this.linkPreviewLoading = false\n      if (previewData.error) {\n        this.$store.commit('alert', {\n          text: `${previewData.error}: ${previewData.description}`,\n          type: 'error'\n        })\n        return\n      }\n      if (previewData.title)\n        this.bookmark.title = previewData.title\n      if (previewData.image) {\n        this.bookmark.icon = RelateUrl.relate(\n          this.bookmark.url, previewData.image\n        )\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../.yarn/__virtual__/cache-loader-virtual-c1b5c548c1/0/cache/cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../.yarn/__virtual__/thread-loader-virtual-c4f201d7e0/0/cache/thread-loader-npm-2.1.3-ed21f3c893-da11b7d018.zip/node_modules/thread-loader/dist/cjs.js!../../.yarn/__virtual__/babel-loader-virtual-8667ef460d/0/cache/babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip/node_modules/babel-loader/lib/index.js!../../.yarn/__virtual__/cache-loader-virtual-9f4b962941/0/cache/cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../.yarn/__virtual__/vue-loader-virtual-7a338f5bf1/0/cache/vue-loader-npm-15.9.6-b3270576fe-38ad9b5d56.zip/node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../.yarn/__virtual__/cache-loader-virtual-c1b5c548c1/0/cache/cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../.yarn/__virtual__/thread-loader-virtual-c4f201d7e0/0/cache/thread-loader-npm-2.1.3-ed21f3c893-da11b7d018.zip/node_modules/thread-loader/dist/cjs.js!../../.yarn/__virtual__/babel-loader-virtual-8667ef460d/0/cache/babel-loader-npm-8.2.2-b4e600c2c5-df5092ef98.zip/node_modules/babel-loader/lib/index.js!../../.yarn/__virtual__/cache-loader-virtual-9f4b962941/0/cache/cache-loader-npm-4.1.0-82c3da90d8-0339778bdd.zip/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../.yarn/__virtual__/vue-loader-virtual-7a338f5bf1/0/cache/vue-loader-npm-15.9.6-b3270576fe-38ad9b5d56.zip/node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditDialog.vue?vue&type=template&id=d62acc2a&\"\nimport script from \"./EditDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./EditDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../.yarn/__virtual__/vue-loader-virtual-7a338f5bf1/0/cache/vue-loader-npm-15.9.6-b3270576fe-38ad9b5d56.zip/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../.yarn/__virtual__/vuetify-loader-virtual-4007d172f1/0/cache/vuetify-loader-npm-1.7.2-d296a16f38-990b237d85.zip/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VIcon,VSpacer,VTextField,VToolbar,VToolbarTitle})\n","\"use strict\";\n\nvar hrefInfo   = require(\"./hrefInfo\");\nvar parseHost  = require(\"./host\");\nvar parsePath  = require(\"./path\");\nvar parsePort  = require(\"./port\");\nvar parseQuery = require(\"./query\");\nvar parseUrlString = require(\"./urlstring\");\nvar pathUtils      = require(\"../util/path\");\n\n\n\nfunction parseFromUrl(url, options, fallback)\n{\n\tif (url)\n\t{\n\t\tvar urlObj = parseUrl(url, options);\n\t\t\n\t\t// Because the following occurs in the relate stage for \"to\" URLs,\n\t\t// such had to be mostly duplicated here\n\t\t\n\t\tvar pathArray = pathUtils.resolveDotSegments(urlObj.path.absolute.array);\n\t\t\n\t\turlObj.path.absolute.array  = pathArray;\n\t\turlObj.path.absolute.string = \"/\" + pathUtils.join(pathArray);\n\t\t\n\t\treturn urlObj;\n\t}\n\telse\n\t{\n\t\treturn fallback;\n\t}\n}\n\n\n\nfunction parseUrl(url, options)\n{\n\tvar urlObj = parseUrlString(url, options);\n\t\n\tif (urlObj.valid===false) return urlObj;\n\t\n\tparseHost(urlObj, options);\n\tparsePort(urlObj, options);\n\tparsePath(urlObj, options);\n\tparseQuery(urlObj, options);\n\threfInfo(urlObj);\n\t\n\treturn urlObj;\n}\n\n\n\nmodule.exports =\n{\n\tfrom: parseFromUrl,\n\tto:   parseUrl\n};\n","\"use strict\";\n\nvar constants = require(\"./constants\");\n\n\n\nfunction formatAuth(urlObj, options)\n{\n\tif (urlObj.auth && !options.removeAuth && (urlObj.extra.relation.maximumHost || options.output===constants.ABSOLUTE))\n\t{\n\t\treturn urlObj.auth + \"@\";\n\t}\n\t\n\treturn \"\";\n}\n\n\n\nfunction formatHash(urlObj, options)\n{\n\treturn urlObj.hash ? urlObj.hash : \"\";\n}\n\n\n\nfunction formatHost(urlObj, options)\n{\n\tif (urlObj.host.full && (urlObj.extra.relation.maximumAuth || options.output===constants.ABSOLUTE))\n\t{\n\t\treturn urlObj.host.full;\n\t}\n\t\n\treturn \"\";\n}\n\n\n\nfunction formatPath(urlObj, options)\n{\n\tvar str = \"\";\n\t\n\tvar absolutePath = urlObj.path.absolute.string;\n\tvar relativePath = urlObj.path.relative.string;\n\tvar resource = showResource(urlObj, options);\n\t\n\tif (urlObj.extra.relation.maximumHost || options.output===constants.ABSOLUTE || options.output===constants.ROOT_RELATIVE)\n\t{\n\t\tstr = absolutePath;\n\t}\n\telse if (relativePath.length<=absolutePath.length && options.output===constants.SHORTEST || options.output===constants.PATH_RELATIVE)\n\t{\n\t\tstr = relativePath;\n\t\t\n\t\tif (str === \"\")\n\t\t{\n\t\t\tvar query = showQuery(urlObj,options) && !!getQuery(urlObj,options);\n\t\t\t\n\t\t\tif (urlObj.extra.relation.maximumPath && !resource)\n\t\t\t{\n\t\t\t\tstr = \"./\";\n\t\t\t}\n\t\t\telse if (urlObj.extra.relation.overridesQuery && !resource && !query)\n\t\t\t{\n\t\t\t\tstr = \"./\";\n\t\t\t}\n\t\t}\n\t}\n\telse\n\t{\n\t\tstr = absolutePath;\n\t}\n\t\n\tif ( str===\"/\" && !resource && options.removeRootTrailingSlash && (!urlObj.extra.relation.minimumPort || options.output===constants.ABSOLUTE) )\n\t{\n\t\tstr = \"\";\n\t}\n\t\n\treturn str;\n}\n\n\n\nfunction formatPort(urlObj, options)\n{\n\tif (urlObj.port && !urlObj.extra.portIsDefault && urlObj.extra.relation.maximumHost)\n\t{\n\t\treturn \":\" + urlObj.port;\n\t}\n\t\n\treturn \"\";\n}\n\n\n\nfunction formatQuery(urlObj, options)\n{\n\treturn showQuery(urlObj,options) ? getQuery(urlObj, options) : \"\";\n}\n\n\n\nfunction formatResource(urlObj, options)\n{\n\treturn showResource(urlObj,options) ? urlObj.resource : \"\";\n}\n\n\n\nfunction formatScheme(urlObj, options)\n{\n\tvar str = \"\";\n\t\n\tif (urlObj.extra.relation.maximumHost || options.output===constants.ABSOLUTE)\n\t{\n\t\tif (!urlObj.extra.relation.minimumScheme || !options.schemeRelative || options.output===constants.ABSOLUTE)\n\t\t{\n\t\t\tstr += urlObj.scheme + \"://\";\n\t\t}\n\t\telse\n\t\t{\n\t\t\tstr += \"//\";\n\t\t}\n\t}\n\t\n\treturn str;\n}\n\n\n\nfunction formatUrl(urlObj, options)\n{\n\tvar url = \"\";\n\t\n\turl += formatScheme(urlObj, options);\n\turl += formatAuth(urlObj, options);\n\turl += formatHost(urlObj, options);\n\turl += formatPort(urlObj, options);\n\turl += formatPath(urlObj, options);\n\turl += formatResource(urlObj, options);\n\turl += formatQuery(urlObj, options);\n\turl += formatHash(urlObj, options);\n\t\n\treturn url;\n}\n\n\n\nfunction getQuery(urlObj, options)\n{\n\tvar stripQuery = options.removeEmptyQueries && urlObj.extra.relation.minimumPort;\n\t\n\treturn urlObj.query.string[ stripQuery ? \"stripped\" : \"full\" ];\n}\n\n\n\nfunction showQuery(urlObj, options)\n{\n\treturn !urlObj.extra.relation.minimumQuery || options.output===constants.ABSOLUTE || options.output===constants.ROOT_RELATIVE;\n}\n\n\n\nfunction showResource(urlObj, options)\n{\n\tvar removeIndex = options.removeDirectoryIndexes && urlObj.extra.resourceIsIndex;\n\tvar removeMatchingResource = urlObj.extra.relation.minimumResource && options.output!==constants.ABSOLUTE && options.output!==constants.ROOT_RELATIVE;\n\t\n\treturn !!urlObj.resource && !removeMatchingResource && !removeIndex;\n}\n\n\n\nmodule.exports = formatUrl;\n","\"use strict\";\n\nmodule.exports =\n{\n\t// Output\n\tABSOLUTE:      \"absolute\",\n\tPATH_RELATIVE: \"pathRelative\",\n\tROOT_RELATIVE: \"rootRelative\",\n\tSHORTEST:      \"shortest\"\n};\n","\"use strict\";\n\nvar constants  = require(\"./constants\");\nvar formatUrl  = require(\"./format\");\nvar getOptions = require(\"./options\");\nvar objUtils   = require(\"./util/object\");\nvar parseUrl   = require(\"./parse\");\nvar relateUrl  = require(\"./relate\");\n\n\n\nfunction RelateUrl(from, options)\n{\n\tthis.options = getOptions(options,\n\t{\n\t\tdefaultPorts: {ftp:21, http:80, https:443},\n\t\tdirectoryIndexes: [\"index.html\"],\n\t\tignore_www: false,\n\t\toutput: RelateUrl.SHORTEST,\n\t\trejectedSchemes: [\"data\",\"javascript\",\"mailto\"],\n\t\tremoveAuth: false,\n\t\tremoveDirectoryIndexes: true,\n\t\tremoveEmptyQueries: false,\n\t\tremoveRootTrailingSlash: true,\n\t\tschemeRelative: true,\n\t\tsite: undefined,\n\t\tslashesDenoteHost: true\n\t});\n\t\n\tthis.from = parseUrl.from(from, this.options, null);\n}\n\n\n\n/*\n\tUsage: instance=new RelateUrl(); instance.relate();\n*/\nRelateUrl.prototype.relate = function(from, to, options)\n{\n\t// relate(to,options)\n\tif ( objUtils.isPlainObject(to) )\n\t{\n\t\toptions = to;\n\t\tto = from;\n\t\tfrom = null;\n\t}\n\t// relate(to)\n\telse if (!to)\n\t{\n\t\tto = from;\n\t\tfrom = null;\n\t}\n\t\n\toptions = getOptions(options, this.options);\n\tfrom = from || options.site;\n\tfrom = parseUrl.from(from, options, this.from);\n\t\n\tif (!from || !from.href)\n\t{\n\t\tthrow new Error(\"from value not defined.\");\n\t}\n\telse if (from.extra.hrefInfo.minimumPathOnly)\n\t{\n\t\tthrow new Error(\"from value supplied is not absolute: \"+from.href);\n\t}\n\t\n\tto = parseUrl.to(to, options);\n\t\n\tif (to.valid===false) return to.href;\n\t\n\tto = relateUrl(from, to, options);\n\tto = formatUrl(to, options);\n\t\n\treturn to;\n}\n\n\n\n/*\n\tUsage: RelateUrl.relate();\n*/\nRelateUrl.relate = function(from, to, options)\n{\n\treturn new RelateUrl().relate(from, to, options);\n}\n\n\n\n// Make constants accessible from API\nobjUtils.shallowMerge(RelateUrl, constants);\n\n\n\nmodule.exports = RelateUrl;\n","\"use strict\";\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\n\nfunction parseQuery(urlObj, options)\n{\n\turlObj.query.string.full = stringify(urlObj.query.object, false);\n\t\n\t// TWEAK :: condition only for speed optimization\n\tif (options.removeEmptyQueries)\n\t{\n\t\turlObj.query.string.stripped = stringify(urlObj.query.object, true);\n\t}\n}\n\n\n\nfunction stringify(queryObj, removeEmptyQueries)\n{\n\tvar count = 0;\n\tvar str = \"\";\n\t\n\tfor (var i in queryObj)\n\t{\n\t\tif ( i!==\"\" && hasOwnProperty.call(queryObj, i)===true )\n\t\t{\n\t\t\tvar value = queryObj[i];\n\t\t\t\n\t\t\tif (value !== \"\" || !removeEmptyQueries)\n\t\t\t{\n\t\t\t\tstr += (++count===1) ? \"?\" : \"&\";\n\t\t\t\t\n\t\t\t\ti = encodeURIComponent(i);\n\t\t\t\t\n\t\t\t\tif (value !== \"\")\n\t\t\t\t{\n\t\t\t\t\tstr += i +\"=\"+ encodeURIComponent(value).replace(/%20/g,\"+\");\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tstr += i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn str;\n}\n\n\n\nmodule.exports = parseQuery;\n","\"use strict\";\n\nvar pathUtils = require(\"../util/path\");\n\n\n\n/*\n\tGet a path relative to the site path.\n*/\nfunction relatePath(absolutePath, siteAbsolutePath)\n{\n\tvar relativePath = [];\n\t\n\t// At this point, it's related to the host/port\n\tvar related = true;\n\tvar parentIndex = -1;\n\t\n\t// Find parents\n\tsiteAbsolutePath.forEach( function(siteAbsoluteDir, i)\n\t{\n\t\tif (related)\n\t\t{\n\t\t\tif (absolutePath[i] !== siteAbsoluteDir)\n\t\t\t{\n\t\t\t\trelated = false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tparentIndex = i;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (!related)\n\t\t{\n\t\t\t// Up one level\n\t\t\trelativePath.push(\"..\");\n\t\t}\n\t});\n\t\n\t// Form path\n\tabsolutePath.forEach( function(dir, i)\n\t{\n\t\tif (i > parentIndex)\n\t\t{\n\t\t\trelativePath.push(dir);\n\t\t}\n\t});\n\t\n\treturn relativePath;\n}\n\n\n\nfunction relativize(urlObj, siteUrlObj, options)\n{\n\tif (urlObj.extra.relation.minimumScheme)\n\t{\n\t\tvar pathArray = relatePath(urlObj.path.absolute.array, siteUrlObj.path.absolute.array);\n\t\t\n\t\turlObj.path.relative.array  = pathArray;\n\t\turlObj.path.relative.string = pathUtils.join(pathArray);\n\t}\n}\n\n\n\nmodule.exports = relativize;\n","\"use strict\";\n\nfunction isDirectoryIndex(resource, options)\n{\n\tvar verdict = false;\n\t\n\toptions.directoryIndexes.every( function(index)\n\t{\n\t\tif (index === resource)\n\t\t{\n\t\t\tverdict = true;\n\t\t\treturn false;\n\t\t}\n\t\t\n\t\treturn true;\n\t});\n\t\n\treturn verdict;\n}\n\n\n\nfunction parsePath(urlObj, options)\n{\n\tvar path = urlObj.path.absolute.string;\n\t\n\tif (path)\n\t{\n\t\tvar lastSlash = path.lastIndexOf(\"/\");\n\t\t\n\t\tif (lastSlash > -1)\n\t\t{\n\t\t\tif (++lastSlash < path.length)\n\t\t\t{\n\t\t\t\tvar resource = path.substr(lastSlash);\n\t\t\t\t\n\t\t\t\tif (resource!==\".\" && resource!==\"..\")\n\t\t\t\t{\n\t\t\t\t\turlObj.resource = resource;\n\t\t\t\t\tpath = path.substr(0, lastSlash);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tpath += \"/\";\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\turlObj.path.absolute.string = path;\n\t\t\turlObj.path.absolute.array = splitPath(path);\n\t\t}\n\t\telse if (path===\".\" || path===\"..\")\n\t\t{\n\t\t\t// \"..?var\", \"..#anchor\", etc ... not \"..index.html\"\n\t\t\tpath += \"/\";\n\t\t\t\n\t\t\turlObj.path.absolute.string = path;\n\t\t\turlObj.path.absolute.array = splitPath(path);\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Resource-only\n\t\t\turlObj.resource = path;\n\t\t\turlObj.path.absolute.string = null;\n\t\t}\n\t\t\n\t\turlObj.extra.resourceIsIndex = isDirectoryIndex(urlObj.resource, options);\n\t}\n\t// Else: query/hash-only or empty\n}\n\n\n\nfunction splitPath(path)\n{\n\t// TWEAK :: condition only for speed optimization\n\tif (path !== \"/\")\n\t{\n\t\tvar cleaned = [];\n\t\t\n\t\tpath.split(\"/\").forEach( function(dir)\n\t\t{\n\t\t\t// Cleanup -- splitting \"/dir/\" becomes [\"\",\"dir\",\"\"]\n\t\t\tif (dir !== \"\")\n\t\t\t{\n\t\t\t\tcleaned.push(dir);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn cleaned;\n\t}\n\telse\n\t{\n\t\t// Faster to skip the above block and just create an array\n\t\treturn [];\n\t}\n}\n\n\n\nmodule.exports = parsePath;\n","\"use strict\";\n\nvar _parseUrl = require(\"url\").parse;\n\n\n\n/*\n\tCustomize the URL object that Node generates\n\tbecause:\n\t\n\t* necessary data for later\n\t* urlObj.host is useless\n\t* urlObj.hostname is too long\n\t* urlObj.path is useless\n\t* urlObj.pathname is too long\n\t* urlObj.protocol is inaccurate; should be called \"scheme\"\n\t* urlObj.search is mostly useless\n*/\nfunction clean(urlObj)\n{\n\tvar scheme = urlObj.protocol;\n\t\n\tif (scheme)\n\t{\n\t\t// Remove \":\" suffix\n\t\tif (scheme.indexOf(\":\") === scheme.length-1)\n\t\t{\n\t\t\tscheme = scheme.substr(0, scheme.length-1);\n\t\t}\n\t}\n\t\n\turlObj.host =\n\t{\n\t\t// TODO :: unescape(encodeURIComponent(s)) ? ... http://ecmanaut.blogspot.ca/2006/07/encoding-decoding-utf8-in-javascript.html\n\t\tfull: urlObj.hostname,\n\t\tstripped: null\n\t};\n\t\n\turlObj.path =\n\t{\n\t\tabsolute:\n\t\t{\n\t\t\tarray: null,\n\t\t\tstring: urlObj.pathname\n\t\t},\n\t\trelative:\n\t\t{\n\t\t\tarray: null,\n\t\t\tstring: null\n\t\t}\n\t};\n\t\n\turlObj.query =\n\t{\n\t\tobject: urlObj.query,\n\t\tstring:\n\t\t{\n\t\t\tfull: null,\n\t\t\tstripped: null\n\t\t}\n\t};\n\t\n\turlObj.extra =\n\t{\n\t\threfInfo:\n\t\t{\n\t\t\tminimumPathOnly: null,\n\t\t\tminimumResourceOnly: null,\n\t\t\tminimumQueryOnly: null,\n\t\t\tminimumHashOnly: null,\n\t\t\tempty: null,\n\t\t\t\n\t\t\tseparatorOnlyQuery: urlObj.search===\"?\"\n\t\t},\n\t\tportIsDefault: null,\n\t\trelation:\n\t\t{\n\t\t\tmaximumScheme: null,\n\t\t\tmaximumAuth: null,\n\t\t\tmaximumHost: null,\n\t\t\tmaximumPort: null,\n\t\t\tmaximumPath: null,\n\t\t\tmaximumResource: null,\n\t\t\tmaximumQuery: null,\n\t\t\tmaximumHash: null,\n\t\t\t\n\t\t\tminimumScheme: null,\n\t\t\tminimumAuth: null,\n\t\t\tminimumHost: null,\n\t\t\tminimumPort: null,\n\t\t\tminimumPath: null,\n\t\t\tminimumResource: null,\n\t\t\tminimumQuery: null,\n\t\t\tminimumHash: null,\n\t\t\t\n\t\t\toverridesQuery: null\n\t\t},\n\t\tresourceIsIndex: null,\n\t\tslashes: urlObj.slashes\n\t};\n\t\n\turlObj.resource = null;\n\turlObj.scheme = scheme;\n\tdelete urlObj.hostname;\n\tdelete urlObj.pathname;\n\tdelete urlObj.protocol;\n\tdelete urlObj.search;\n\tdelete urlObj.slashes;\n\t\n\treturn urlObj;\n}\n\n\n\nfunction validScheme(url, options)\n{\n\tvar valid = true;\n\t\n\toptions.rejectedSchemes.every( function(rejectedScheme)\n\t{\n\t\tvalid = !(url.indexOf(rejectedScheme+\":\") === 0);\n\t\t\n\t\t// Break loop\n\t\treturn valid;\n\t});\n\t\n\treturn valid;\n}\n\n\n\nfunction parseUrlString(url, options)\n{\n\tif ( validScheme(url,options) )\n\t{\n\t\treturn clean( _parseUrl(url, true, options.slashesDenoteHost) );\n\t}\n\telse\n\t{\n\t\treturn {href:url, valid:false};\n\t}\n}\n\n\n\nmodule.exports = parseUrlString;\n","\"use strict\";\n\nfunction parsePort(urlObj, options)\n{\n\tvar defaultPort = -1;\n\t\n\tfor (var i in options.defaultPorts)\n\t{\n\t\tif ( i===urlObj.scheme && options.defaultPorts.hasOwnProperty(i) )\n\t\t{\n\t\t\tdefaultPort = options.defaultPorts[i];\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\tif (defaultPort > -1)\n\t{\n\t\t// Force same type as urlObj.port\n\t\tdefaultPort = defaultPort.toString();\n\t\t\n\t\tif (urlObj.port === null)\n\t\t{\n\t\t\turlObj.port = defaultPort;\n\t\t}\n\t\t\n\t\turlObj.extra.portIsDefault = (urlObj.port === defaultPort);\n\t}\n}\n\n\n\nmodule.exports = parsePort;\n"],"sourceRoot":""}